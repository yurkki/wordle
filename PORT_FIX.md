# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π PORT

## –ü—Ä–æ–±–ª–µ–º–∞
```
Invalid value '$PORT' for configuration property 'server.port'
Failed to convert to type java.lang.Integer
```

## –ü—Ä–∏—á–∏–Ω–∞
Spring Boot –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `$PORT` –≤ —á–∏—Å–ª–æ –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–±—Ä–∞–Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–∞
- –£–¥–∞–ª–µ–Ω `server.port=${PORT:8080}` –∏–∑ `application.properties`
- Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 2. –°–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å –¥–ª—è Railway
- `application-railway.properties` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è Railway
- –ë–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–æ—Ä—Ç–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è production

### 3. –£–ø—Ä–æ—â–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
- –£–±—Ä–∞–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `--server.port=$PORT`
- –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ `--server.address=0.0.0.0`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Railway –ø—Ä–æ—Ñ–∏–ª—å

## üöÄ –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π Dockerfile
```bash
git add .
git commit -m "Fix PORT variable conflict"
git push origin main
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–±–æ—á–∏–π Dockerfile
```bash
# –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ —Ñ–∞–π–ª—ã
mv Dockerfile Dockerfile.old
mv Dockerfile.working Dockerfile

# –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "Use working Dockerfile for Railway"
git push origin main
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –°–±–æ—Ä–∫–∞
./gradlew clean build

# –ó–∞–ø—É—Å–∫ —Å Railway –ø—Ä–æ—Ñ–∏–ª–µ–º
java -jar build/libs/wordle-0.0.1-SNAPSHOT.jar --spring.profiles.active=railway --server.address=0.0.0.0

# –ü—Ä–æ–≤–µ—Ä–∫–∞
curl http://localhost:8080/
```

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –°–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç 8080 (–∏–ª–∏ PORT –æ—Ç Railway)
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É 0.0.0.0
- ‚úÖ Healthcheck –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ

## üìã –ß—Ç–æ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–æ

### 1. application.properties
```properties
# –£–î–ê–õ–ï–ù–û: server.port=${PORT:8080}
# –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

### 2. application-railway.properties (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
```properties
# –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Railway
# –ë–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ server.port
# Railway —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –ø–æ—Ä—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

### 3. railway.json
```json
{
  "startCommand": "java -jar app.jar --spring.profiles.active=railway --server.address=0.0.0.0"
}
```

### 4. Dockerfile
```dockerfile
# –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
CMD ["sh", "-c", "java -jar app.jar --server.address=0.0.0.0"]
```

### 5. Dockerfile.working (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π)
```dockerfile
# –ü—Ä–æ—Å—Ç–æ–π —Ä–∞–±–æ—á–∏–π Dockerfile
FROM openjdk:17-jdk-slim
WORKDIR /app
COPY . .
RUN chmod +x ./gradlew
RUN ./gradlew build -x test
CMD ["sh", "-c", "java -jar build/libs/wordle-0.0.1-SNAPSHOT.jar --spring.profiles.active=railway --server.address=0.0.0.0"]
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π PORT
- ‚úÖ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—Ä—Ç
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Healthcheck –ø—Ä–æ—Ö–æ–¥–∏—Ç

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Railway
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ –∑–∞–ø—É—Å–∫–∞ Spring Boot
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ —Å PORT
- –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –ª–æ–≥–∏ Tomcat

### 2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π Dockerfile
```bash
mv Dockerfile Dockerfile.old
mv Dockerfile.working Dockerfile
git add . && git commit -m "Use alternative Dockerfile" && git push
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- Railway –¥–æ–ª–∂–µ–Ω —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PORT –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –ø–∞–Ω–µ–ª–∏ Railway

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π Dockerfile
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
